(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17178016"],{3968:function(e,t,s){"use strict";s("5a30")},"5a30":function(e,t,s){},fb1b:function(e,t,s){"use strict";var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"t-color"},[s("div",[s("fas-icon",{staticClass:"icons",attrs:{icon:["fas","project-diagram"],size:"lg"}}),s("span",{staticClass:"t-color"},[e._v(" "+e._s(e.$t("profileowner.Network"))+" ")]),"others"==e.type?s("b-button",{staticClass:"btn btn-outline-primary pull-right float-right mb-2 blec-font",staticStyle:{"margin-top":"-6px"},on:{click:function(t){return e.showmodal(!0,"add")}}},[e._v(e._s(e.$t("profileowner.Add_Network")))]):e._e(),s("hr"),s("b-row",e._l(e.profileNetworks,(function(t,o){return s("b-col",{key:o,staticClass:"p-0 pr-1 mb-2",attrs:{cols:"12",md:"12",lg:"6"}},[s("div",{staticClass:"people-style shadow h-100"},["others"!=e.type||!t.is_owner?e._e():s("div",{staticClass:"float-right others"},[s("b-dropdown",{attrs:{size:"lg",variant:"link","toggle-class":"text-decoration-none","no-caret":""},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("b-icon",{staticClass:"icon-size",attrs:{icon:"three-dots-vertical",variant:"primary"}})]},proxy:!0}],null,!0)},[s("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.updateBusinessModal",modifiers:{updateBusinessModal:!0}}],attrs:{variant:""},on:{click:function(s){return e.showEditNetwork(t)}}},[e._v(e._s(e.$t("profileowner.Edit")))]),s("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.deleteBusinessModal",modifiers:{deleteBusinessModal:!0}}],attrs:{"no-stacking":""},on:{click:function(s){return e.selectNetwork(t)}}},[e._v(e._s(e.$t("profileowner.Delete")))])],1)],1),s("div",{staticClass:"inline-flex"},[s("div",[s("div",{staticClass:"center-img"},[s("img",{staticClass:"r-image",attrs:{src:t.image}})])]),s("div",{staticClass:"flx70"},[s("p",{staticClass:"textt text"},[s("strong",{staticClass:"title"},["business"==e.type?s("router-link",{attrs:{to:"/network_member/"+t.slug}},[e._v(" "+e._s(t.name)+" "),"business"!=e.type?s("span",[t.is_approve?s("b-icon",{attrs:{icon:"check-circle-fill",variant:"primary"}}):e._e()],1):e._e()]):s("router-link",{attrs:{to:"/network/"+t.slug}},[e._v(" "+e._s(t.name)+" "),"business"!=e.type?s("span",[t.is_approve?s("b-icon",{attrs:{icon:"check-circle-fill",variant:"primary"}}):e._e()],1):e._e()])],1),s("br"),e._l(t.assign_categories,(function(t){return s("span",{key:t.id,staticClass:"m-1"},[e._v(" "+e._s(t.name)+" ")])})),s("br"),e._v(" "+e._s(t.community)+" Community "),s("br"),s("span",{staticClass:"location"},[s("b-icon-geo-alt",{staticClass:"ico"}),e._v(" "+e._s(t.city)+" "+e._s(t.country)+" "+e._s(t.address)+" ")],1),s("br"),s("read-more",{staticClass:"readmore",attrs:{"more-str":e.$t("search.read_more"),text:t.description,link:"#","less-str":e.$t("search.read_less"),"max-chars":100}})],2)])])])])})),1)],1),s("infinite-loading",{ref:"infiniteLoading",attrs:{identifier:e.infiniteId},on:{infinite:e.infiniteHandler}}),e.profileNetworks.length<1&&!e.loader?s("div",{staticClass:"h-100 w-100"},["others"==e.type?s("div",{staticClass:"mx-auto text-center my-5"},[s("h2",{staticClass:"my-3"},[e._v(" "+e._s(e.$t("profileowner.Build_networks_around_your_Business"))+" ")]),s("p",{staticClass:"my-2"},[e._v(" "+e._s(e.$t("profileowner.Create_network_to_stay_in_touch_with_just_the_people"))+" ")]),s("p",{staticClass:"my-2"},[e._v(" "+e._s(e.$t("profileowner.you_want_Engage_share_Make_Plans_and_much_more"))+" ")]),s("p",{staticClass:"my-3"},[s("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.showmodal(!0,"add")}}},[e._v(e._s(e.$t("profileowner.Add_Network")))])],1)]):s("div",{staticClass:"mx-auto text-center my-5"},[e.profileNetworks.length?e._e():s("p",{staticClass:"my-2"},[e._v(" "+e._s(e.$t("profileowner.No_network_found"))+" ")])])]):e._e(),s("b-modal",{ref:"netmodal",attrs:{"hide-footer":"",title:e.editNet?e.$t("profileowner.Edit_Network"):e.$t("profileowner.Add_Network"),size:"lg"},on:{close:e.cancel},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[s("b-container",[s("b-form",[e.editNet?e._e():s("div",{staticClass:"row sub-sidebar-2 pending-post-view mt-4 pb-0"},[s("div",{staticClass:"\n              col-md-12 col-lg-12\n              d-flex\n              align-items-stretch\n              mb-lg-0\n              styling\n            "},[s("a",{staticClass:"nav-link text-dark",attrs:{href:"#",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[s("b-icon-info-circle-fill",{attrs:{scale:"1.5"}})],1),s("div",{staticClass:"post-pending pt-2"},[s("p",[e._v(" "+e._s(e.$t("profileowner.Approval_Required"))+" "),s("br"),e._v(" "+e._s(e.$t("profileowner.Bridge_Africa_admin_will_review_your_request"))+" "+e._s(e.$t("profileowner.to_create_a"))+" "+e._s(e.$t("profileowner.network"))+" "+e._s(e.$t("profileowner.and"))+" "+e._s(e.$t("profileowner.notify_you"))+" "+e._s(e.$t("profileowner.upon_approval_you_can_the_change_the"))+" "+e._s(e.$t("profileowner.network_settings"))+" "+e._s(e.$t("profileowner.and"))+" "+e._s(e.$t("profileowner.invite_people_to_join_your_network"))+" ")])])])]),s("b-row",[s("b-col",{attrs:{md:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"12",label:e.$t("profileowner.Network_Name"),"label-size":"md","label-class":" pt-0 "}},[s("b-form-input",{attrs:{id:"network_name",placeholder:"",required:""},model:{value:e.createdNetwork.name,callback:function(t){e.$set(e.createdNetwork,"name",t)},expression:"createdNetwork.name"}})],1)],1),s("b-col",{attrs:{md:"6"}},[s("div",[s("label",{staticClass:"typo__label"},[e._v(" "+e._s(e.$t("profileowner.Category"))+" ")]),s("multiselect",{attrs:{placeholder:e.$t("profileowner.Search_or_add_a_tag"),label:"name","track-by":"id",options:e.pcategories,multiple:!0,taggable:!0},model:{value:e.multiselecvalue,callback:function(t){e.multiselecvalue=t},expression:"multiselecvalue"}})],1)]),s("b-col",{attrs:{md:"6"}},[s("div",{staticClass:"form-group mt-3"},[s("label",{staticClass:"username",attrs:{for:"country"}},[e._v(" "+e._s(e.$t("profileowner.Country"))+" :")]),s("br"),s("multiselect",{attrs:{placeholder:e.$t("profileowner.Search"),label:"name","track-by":"id",options:e.countries,multiple:!1},on:{input:e.Region},model:{value:e.country,callback:function(t){e.country=t},expression:"country"}})],1)]),s("b-col",{attrs:{md:"6"}},[s("div",{staticClass:"form-group mt-3"},[s("label",{staticClass:"username",attrs:{for:"country"}},[e._v(" "+e._s(e.$t("profileowner.Region"))+" :")]),s("br"),s("multiselect",{attrs:{placeholder:e.$t("profileowner.Search"),label:"name","track-by":"id",options:e.regions,multiple:!1},on:{input:e.Division},model:{value:e.region,callback:function(t){e.region=t},expression:"region"}})],1)]),s("b-col",{attrs:{md:"6"}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"username",attrs:{for:"country"}},[e._v(" "+e._s(e.$t("profileowner.Division"))+" :")]),s("br"),s("multiselect",{attrs:{placeholder:e.$t("profileowner.Search"),label:"name","track-by":"id",options:e.divisions,multiple:!1},on:{input:e.Municipality},model:{value:e.division,callback:function(t){e.division=t},expression:"division"}})],1)]),s("b-col",{attrs:{md:"6"}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"username",attrs:{for:"country"}},[e._v(" "+e._s(e.$t("profileowner.Municipality"))+" :")]),s("br"),s("multiselect",{attrs:{placeholder:e.$t("profileowner.Search"),label:"name","track-by":"id",options:e.municipalities,multiple:!1},on:{input:e.Locality},model:{value:e.municipality,callback:function(t){e.municipality=t},expression:"municipality"}})],1)]),s("b-col",{attrs:{md:"6"}},[s("div",{staticClass:"form-group"},[s("label",{staticClass:"username",attrs:{for:"Neighbor"}},[e._v(" "+e._s(e.$t("profileowner.Neighbor"))+" : ")]),s("br"),s("multiselect",{attrs:{placeholder:e.$t("profileowner.Search"),label:"name","track-by":"id",options:e.localities,multiple:!1},model:{value:e.locality,callback:function(t){e.locality=t},expression:"locality"}})],1)]),s("b-col",{attrs:{md:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"12",label:e.$t("auth.email"),"label-size":"md","label-class":" pt-0"}},[s("b-form-input",{attrs:{id:"network_email",placeholder:"",required:""},model:{value:e.createdNetwork.email,callback:function(t){e.$set(e.createdNetwork,"email",t)},expression:"createdNetwork.email"}})],1)],1),s("b-col",{attrs:{md:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"12",label:e.$t("profileowner.Primary_Phone"),"label-size":"md","label-class":"pt-0"}},[s("VuePhoneNumberInput",{attrs:{"default-country-code":"CM",required:""},model:{value:e.createdNetwork.primary_phone,callback:function(t){e.$set(e.createdNetwork,"primary_phone",t)},expression:"createdNetwork.primary_phone"}})],1)],1),s("b-col",{staticClass:"pt-3",attrs:{md:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"12",label:e.$t("profileowner.Secondary_Phone"),"label-size":"md","label-class":" pt-0"}},[s("VuePhoneNumberInput",{attrs:{"default-country-code":"CM",required:""},model:{value:e.createdNetwork.secondary_phone,callback:function(t){e.$set(e.createdNetwork,"secondary_phone",t)},expression:"createdNetwork.secondary_phone"}})],1)],1),s("b-col",{staticClass:"pt-3",attrs:{md:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"12",label:e.$t("profileowner.Brief_Description"),"label-size":"md","label-class":" pt-0"}},[s("b-form-textarea",{attrs:{id:"textarea",placeholder:e.$t("profileowner.Enter_something"),rows:"3","max-rows":"6"},model:{value:e.createdNetwork.description,callback:function(t){e.$set(e.createdNetwork,"description",t)},expression:"createdNetwork.description"}})],1)],1),s("b-col",{staticClass:"pt-3",attrs:{md:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"12",label:e.$t("profileowner.Purpose_Of_Network"),"label-size":"md","label-class":" pt-0"}},[s("b-form-textarea",{attrs:{id:"textarea",placeholder:"",rows:"3","max-rows":"6"},model:{value:e.createdNetwork.purpose,callback:function(t){e.$set(e.createdNetwork,"purpose",t)},expression:"createdNetwork.purpose"}})],1)],1),s("b-col",{staticClass:"pt-3",attrs:{md:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"12",label:e.$t("profileowner.Special_Needs"),"label-size":"md","label-class":" pt-0"}},[s("b-form-textarea",{attrs:{id:"textarea",placeholder:" ",rows:"3","max-rows":"6"},model:{value:e.createdNetwork.special_needs,callback:function(t){e.$set(e.createdNetwork,"special_needs",t)},expression:"createdNetwork.special_needs"}})],1)],1),s("b-col",{attrs:{md:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"12",label:e.$t("profileowner.Network_Address"),"label-size":"md","label-class":" pt-0"}},[s("div",{staticStyle:{height:"200px",overflow:"hidden"}},[s("AutocompleteLocation",{attrs:{region:e.region},on:{"get-address-details":e.getGeoCoderResult}})],1)])],1),s("b-col",{attrs:{md:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-lg":"12",label:e.$t("profileowner.Network_Image"),"label-size":"md","label-class":"pt-0"}},[s("input",{ref:"net_pic",attrs:{hidden:"",type:"file",id:"net_pic",accept:"image/*"},on:{change:e.onLogoChangge}}),s("div",{attrs:{id:"preview"}},[e.logoimg_url?s("vue-cropper",{ref:"cropperr",attrs:{src:e.selectedFile,"original:true":"","info:false":"","canScale:true":"","maxImgSize:1000":"",size:1,"drag-mode":"move","view-mode":1}}):e._e()],1),s("br"),s("div",{staticClass:"text-center"},[e.logoimg_url?s("b-button",{staticClass:"mt-3 text-center",attrs:{variant:"primary"},on:{click:function(t){return e.chooseNlogo()}}},[e._v(" "+e._s(e.$t("profileowner.change_Image"))+" ")]):e._e()],1),e.logoimg_url?e._e():s("div",{staticClass:"image-upload-wrap",on:{click:function(t){return e.chooseNlogo()}}},[s("div",{staticClass:"drag-text"},[s("i",{staticClass:"fa fa-plus"}),s("h3",{staticClass:"username"},[e._v(" "+e._s(e.$t("businessowner.NetworkLogo"))+" ")])]),s("div")])])],1),s("b-col",{attrs:{md:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{"label-cols-md":"6",label:e.$t("profileowner.Allow_Business_to_join_network"),"label-size":"md","label-class":" pt-0"}},[s("b-form-checkbox",{attrs:{value:1,"unchecked-value":0,name:"check-button",switch:""},model:{value:e.createdNetwork.allow_business,callback:function(t){e.$set(e.createdNetwork,"allow_business",t)},expression:"createdNetwork.allow_business"}})],1)],1)],1),s("b-alert",{attrs:{show:e.success.state,variant:"info"}},[e._v(" "+e._s(e.success.msg))]),e.loader?s("b-spinner",{attrs:{variant:"primary"}}):e._e(),s("b-button",{staticClass:"mt-2 button-btn",attrs:{variant:"primary"},on:{click:e.action}},[e._v(" "+e._s(e.editNet?e.$t("profileowner.Edit_Network"):e.$t("profileowner.Add_Network"))+" ")])],1)],1)],1),s("b-modal",{attrs:{id:"modal-1",title:e.chosenNetwork.name,"hide-footer":""},model:{value:e.viewnetwork,callback:function(t){e.viewnetwork=t},expression:"viewnetwork"}},[s("lightbox",{attrs:{visible:"true",css:" h-10",items:e.chosenNetwork.image}}),s("p",{staticClass:"text-pop"},[s("strong",{staticClass:"net-title"},[s("router-link",{attrs:{to:"/businessfollower"}},[e._v(" "+e._s(e.chosenNetwork.name)+" ")])],1),s("br"),e._v(" "+e._s(e.chosenNetwork.network_category)+" "),s("br"),e._v(" "+e._s(e.chosenNetwork.member_count)+" "),s("br"),s("span",{staticClass:"location"},[s("b-icon-geo-alt",{staticClass:"ico"}),e._v(" "+e._s(e.chosenNetwork.address)+" ")],1),s("br"),e._v(" "+e._s(e.chosenNetwork.description)+" ")])],1),s("b-modal",{attrs:{id:"deleteBusinessModal",title:"Do you really want to delete network!!",centered:"","hide-footer":"","no-stacking":""}},[s("b-row",[s("b-col",[s("b-button",{staticClass:"mt-3",attrs:{variant:"success",block:""},on:{click:function(t){return e.$bvModal.hide("deleteBusinessModal")}}},[e._v("Cancel")])],1),s("b-col",[s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.deleteBusinessModal2",modifiers:{deleteBusinessModal2:!0}}],staticClass:"mt-3",attrs:{variant:"primary",block:""}},[e._v("Approve")])],1)],1)],1),s("b-modal",{attrs:{id:"deleteBusinessModal2",title:"Any particular reason why you want to delete network?",centered:"","hide-footer":""}},[s("b-form",{on:{submit:function(t){return t.preventDefault(),e.deleteNetwork(e.selectedNetwork)}}},[s("p",[s("b-form-textarea",{attrs:{id:"textarea",placeholder:"Reason for deletion...",rows:"3","max-rows":"6",state:e.textReason.length>=10,"no-resize":"",required:""},model:{value:e.textReason,callback:function(t){e.textReason=t},expression:"textReason"}})],1),s("b-row",[s("b-col",[s("b-button",{staticClass:"mt-3",attrs:{variant:"primary",type:"submit",block:""},on:{click:function(t){return e.$bvModal.hide("deleteBusinessModal2")}}},[e._v("Delete")])],1)],1)],1)],1)],1)},r=[],a=s("bc3a"),i=s.n(a),l=s("8e5f"),n=s.n(l),c=s("7bec"),d=s.n(c),p=s("2205"),h=(s("ce96"),s("95c3")),u=s.n(h),m=(s("6107"),{props:{type:{type:String,default:()=>"others"}},data(){return{page:1,multiselecvalue:[],infiniteId:1,logoimg_url:"",profileNetworks:[],BaseURL:"https://qa-bridgeafrica-api.maxinemoffett.com/api/v1/",showModal:!1,selectedFile:"",editNet:!1,logo:"",country:[],region:[],division:[],municipality:[],locality:[],textReason:"",selectedNetwork:null,dat:!0,networks:[],viewnetwork:!1,loader:!1,success:{state:!1,variant:"",msg:""},createdNetwork:{name:"",description:"",neighbourhood:"",city:"",network_category:"",purpose:"",primary_phone:"",email:"",country_id:0,network_category_id:0,secondary_phone:"",special_needs:"",address:"",image:"",allow_business:0},chosenNetwork:{name:"",description:"",neighbourhood:"",city:"",network_category:"",purpose:"",email:"",country_id:0,network_category_id:0,primary_phone:"",secondary_phone:"",special_needs:"",address:"",image:"",allow_business:0}}},components:{Multiselect:n.a,VuePhoneNumberInput:d.a,AutocompleteLocation:p["a"],VueCropper:u.a},mounted(){this.Country(),this.categories()},computed:{old_profileNetworks:function(){return this.$store.state.profile.profilenetwork},pcategories(){return this.$store.state.auth.categories},selectedcategories:function(){let e=[];return this.multiselecvalue.forEach(t=>{t.id?e.push(t.id):e.push(t.category_id)}),e},pagee:function(){return this.page},countries(){return this.$store.state.auth.country},regions(){return this.$store.state.auth.region},divisions(){return this.$store.state.auth.division},municipalities(){return this.$store.state.auth.municipality},localities(){return this.$store.state.auth.locality},selectedcountry:function(){return this.country.id},selectedregion:function(){return this.region.id},selecteddivision:function(){return this.division.id},selectedmunicipality:function(){return this.municipality.id},selectedcity:function(){return this.municipality.name},selectedlocality:function(){return this.locality.id}},methods:{cancel(){this.logoimg_url="",this.selectedFile="",this.createdNetwork.id="",this.createdNetwork.image="",this.createdNetwork.name="",this.createdNetwork.email="",this.createdNetwork.country_id="",this.createdNetwork.primary_phone="",this.createdNetwork.city="",this.createdNetwork.secondary_phone="",this.createdNetwork.network_category_id="",this.createdNetwork.business_id="",this.createdNetwork.address="",this.createdNetwork.neighbourhood="",this.createdNetwork.network_categories="",this.createdNetwork.purpose="",this.createdNetwork.special_needs="",this.createdNetwork.allow_business="",this.country=[],this.region=[],this.division=[],this.municipality=[],this.localities=[]},getGeoCoderResult(e){console.log(e),this.coordinates=e.coordinates,this.createdNetwork.address=e.address,console.log(e)},flashErrors(e){let t="";return Object.values(e).forEach(e=>{t=e[0]}),t},categories(){this.$store.dispatch("auth/categories").then(()=>{console.log("hey yeah")}).catch(e=>{console.log({err:e})})},netCategory(e){let t="";return e.forEach(e=>{t=t+e+","}),t},chooseNlogo(){document.getElementById("net_pic").click()},Country(){this.$store.dispatch("auth/country").then(()=>{console.log("hey yeah")}).catch(e=>{console.log({err:e})})},onLogoChangge(e){this.logo=e.target.files[0];const t=e.target.files[0];if(this.logoimg_url=URL.createObjectURL(t),this.mime_type=t.type,"function"===typeof FileReader){const e=new FileReader;e.onload=e=>{this.selectedFile=e.target.result,this.$refs.cropperr.replace(this.selectedFile)},e.readAsDataURL(t)}else alert("Sorry, FileReader API not supported")},Region(){let e=new FormData;e.append("countryId",this.selectedcountry),this.$store.dispatch("auth/region",e).then(()=>{console.log("hey yeah")}).catch(e=>{console.log({err:e})})},Division(){let e=new FormData;e.append("regionId",this.selectedregion),this.$store.dispatch("auth/division",e).then(()=>{console.log("hey yeah")}).catch(e=>{console.log({err:e})})},Municipality(){let e=new FormData;e.append("divisionId",this.selecteddivision),this.$store.dispatch("auth/municipality",e).then(()=>{console.log("hey yeah")}).catch(e=>{console.log({err:e})})},Locality(){let e=new FormData;e.append("councilId",this.selectedmunicipality),this.$store.dispatch("auth/locality",e).then(()=>{console.log("hey yeah")}).catch(e=>{console.log({err:e})})},getNetworks(){this.loader=!0,i.a.get("profile/user/networks").then(e=>{this.loader=!1,this.networks=e.data.data}).catch(e=>{this.loader=!1})},infiniteHandler(e){let t="others"==this.type?"network?page="+this.page:`business/network/${this.$route.params.id}/${this.page}`;1==this.page&&this.profileNetworks.splice(0),this.$store.dispatch("profile/loadMore",t).then(({data:t})=>{t.data.length?(this.page+=1,this.profileNetworks.push(...t.data),e.loaded()):e.complete()}).catch(e=>{console.log({err:e}),422==e.response.status?this.flashMessage.show({status:"error",message:this.flashErrors(e.response.data.errors),blockClass:"custom-block-class"}):(this.flashMessage.show({status:"error",message:e.response.statusText,blockClass:"custom-block-class"}),console.log({err:e}))})},addNetwork(e){let t=this.$loading.show({container:this.fullPage?null:this.$refs.preview,canCancel:!0,onCancel:this.onCancel,color:"#e75c18"});i.a.post("network",e).then(({data:e})=>{t.hide(),this.success.state=!0,this.success.msg="Operation was successful !!",this.flashMessage.show({status:"success",message:"Network created",blockClass:"custom-block-class"}),this.profileNetworks.push(e.data),this.$refs["netmodal"].hide(),setTimeout(()=>{this.success.state=!1},5e3)}).catch(e=>{422==e.response.status&&this.flashMessage.show({status:"error",message:this.flashErrors(e.response.data.errors)}),this.success.state=!0,this.success.msg="Something wen't wrong !!",setTimeout(()=>{this.success.state=!1},5e3),t.hide()})},editNetwork(e){let t=this.$loading.show({container:this.fullPage?null:this.$refs.preview,canCancel:!0,onCancel:this.onCancel,color:"#e75c18"});i.a.post("network/"+e.id,e.data).then(e=>{this.success.state=!0,this.success.msg="Operation was successful !!",this.profileNetworks=[],this.infiniteId+=1,t.hide(),this.showmodal(!1,"edit"),console.log("update sucess")}).catch(e=>{console.log({err:e}),this.success.state=!0,this.success.msg="Something wen't wrong !!",422==e.response.status?this.flashMessage.show({status:"error",message:this.flashErrors(e.response.data.errors)}):(this.wrapperError(e.response.data.errors).map(e=>{this.flashMessage.show({status:"error",message:e,blockClass:"custom-block-class"})}),console.log({err:e})),t.hide(),setTimeout(()=>{this.success.state=!1},5e3),this.loader=!1})},wrapperError(e){return Object.values(e).map(e=>e[0])},deleteNetwork(e){let t=this.$loading.show({container:this.fullPage?null:this.$refs.preview,canCancel:!0,onCancel:this.onCancel,color:"#e75c18"});console.log(this.textReason);let s=new FormData;s.append("reason",this.textReason),i.a.post("network/"+e.id,s).then(e=>{console.log(e),this.getNetworks(),t.hide(),this.flashMessage.show({status:"success",message:"Operation was successful !!"})}).catch(e=>{this.loader=!1,t.hide(),this.flashMessage.show({status:"error",message:"Something wen't wrong !!"})})},action(){console.log(this.createdNetwork);const e=new FormData;if(e.append("business_id","1"),e.append("name",this.createdNetwork.name),e.append("address",this.createdNetwork.address),e.append("city",this.selectedcity),e.append("country_id",2),e.append("primary_phone",this.createdNetwork.primary_phone.split(" ").join("")),e.append("secondary_phone",this.createdNetwork.secondary_phone.split(" ").join("")),e.append("email",this.createdNetwork.email),e.append("network_categories",this.selectedcategories),e.append("description",this.createdNetwork.description),e.append("purpose",this.createdNetwork.purpose),e.append("special_needs",this.createdNetwork.special_needs),e.append("region_id",this.selectedregion),e.append("country_id",this.selectedcountry),e.append("division_id",this.selecteddivision),e.append("council_id",this.selectedmunicipality),e.append("neighborhood_id",this.selectedlocality),this.logo&&(this.cropedImage=this.$refs.cropperr.getCroppedCanvas().toDataURL(),this.$refs.cropperr.getCroppedCanvas().toBlob(e=>{this.logo=e},this.mime_type)),e.append("image",this.logo),e.append("allow_business",this.createdNetwork.allow_business),this.editNet){e.append("_method","POST");let t={data:e,id:this.createdNetwork.id};this.editNetwork(t)}else this.addNetwork(e)},viewNetwork(e){this.chosenNetwork=e,this.viewnetwork=!0},showmodal(e,t){this.showModal=e,"edit"==t?this.editNet=!0:(this.editNet=!1,this.createdNetwork.image="",this.createdNetwork.name="",this.createdNetwork.address="",this.createdNetwork.neighbourhood="",this.createdNetwork.description="",this.createdNetwork.purpose="",this.createdNetwork.special_needs="",this.createdNetwork.allow_business=0)},showEditNetwork(e){i.a.get("network/"+e.id+"/edit-infos").then(({data:e})=>{console.log(e),this.country=e.data.country[0],this.region=e.data.region[0],this.division=e.data.division[0],this.municipality=e.data.council[0],this.locality=e.data.locality[0]}).catch(e=>{console.log({err:e})}),this.logoimg_url=e.image,this.selectedFile=e.image,this.createdNetwork.id=e.id,this.createdNetwork.image=e.image,this.createdNetwork.name=e.name,this.createdNetwork.email=e.email,this.createdNetwork.country_id=e.country_id,this.createdNetwork.primary_phone=e.primary_phone,this.createdNetwork.city=e.city,this.createdNetwork.secondary_phone=e.secondary_phone,this.createdNetwork.network_category_id=e.network_category_id,this.createdNetwork.business_id=e.business_id,this.createdNetwork.address=e.address,this.createdNetwork.neighbourhood=e.neighbourhood,this.createdNetwork.network_categories=this.netCategory(e.assign_categories),this.createdNetwork.description=e.description,this.createdNetwork.purpose=e.purpose,this.createdNetwork.special_needs=e.special_needs,this.createdNetwork.allow_business=e.allow_business,this.createdNetwork.country=e.country,this.createdNetwork.region=e.region,this.createdNetwork.division=e.division,this.createdNetwork.municipality=e.municipality,this.createdNetwork.localities=e.localities,this.Region(),this.Division(),this.Municipality(),this.Locality(),this.showmodal(!0,"edit")},selectImage(e){this.createdNetwork.image=e.target.files[0]},selectNetwork(e){this.selectedNetwork=e,console.log(this.selectedNetwork)}}}),w=m,g=(s("3968"),s("0c7c")),_=Object(g["a"])(w,o,r,!1,null,"03401d38",null);t["a"]=_.exports}}]);
//# sourceMappingURL=chunk-17178016.8e105803.js.map