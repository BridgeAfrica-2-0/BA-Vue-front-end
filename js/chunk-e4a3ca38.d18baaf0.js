(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e4a3ca38"],{"0230":function(e,t,s){"use strict";s("36bb")},"0738":function(e,t,s){"use strict";s("7655")},"08d7":function(e,t,s){},"0eec":function(e,t,s){"use strict";s("2079")},"1f88":function(e,t,s){},2079:function(e,t,s){},"266b":function(e,t,s){"use strict";s("f5d7")},"269c":function(e,t,s){"use strict";s("34da")},"33d8":function(e,t,s){},"34da":function(e,t,s){},"36bb":function(e,t,s){},"5d57":function(e,t,s){"use strict";s("b58e")},7655:function(e,t,s){},"8ce2":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"wrapper",staticStyle:{"overflow-x":"clip",padding:"0px"}},[s("navbar"),s("Skeleton",{attrs:{loading:!e.isloaded}}),e.isloaded?s("div",[s("div",{staticClass:"container-fluid"},[s("ly-tab",{staticClass:"center-ly",attrs:{items:e.items,options:e.options},model:{value:e.selectedId,callback:function(t){e.selectedId=t},expression:"selectedId"}}),s("hr",{staticClass:"d-none",attrs:{width:"100%","d-md-block":""}})],1),"0"==e.selectedId?s("div",{},[s("Business",{on:{pageChange:e.pageChange}})],1):e._e(),"1"==e.selectedId?s("div",{staticClass:"mt-3"},[s("Inbox")],1):e._e(),"2"==e.selectedId?s("div",{staticClass:"mt-3"},[s("Settings",{attrs:{currenttab:e.selectedId}})],1):e._e(),"3"==e.selectedId?s("div",{staticClass:"mt-3"},[s("Settings",{attrs:{currenttab:e.selectedId}})],1):e._e(),"4"==e.selectedId?s("div",{staticClass:"mt-3"},[s("Settings",{attrs:{currenttab:e.selectedId}})],1):e._e(),"5"==e.selectedId?s("div",{staticClass:"mt-3"},[s("Settings",{attrs:{currenttab:e.selectedId}})],1):e._e(),"6"==e.selectedId?s("div",{staticClass:"mt-3"},[s("Settings",{attrs:{currenttab:e.selectedId}})],1):e._e()]):e._e()],1)},a=[],o=s("9d8d"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("head-page-owner",{on:{"goto-cover-images":e.gotoCoverImages}}),s("div",{staticClass:"row"},[s("div",{staticClass:"text-justify mt-2 container wahala"},[s("b-row",{},[s("b-col",{attrs:{cols:"12"}},[s("b-tabs",{attrs:{lazy:"","content-class":"mt-3 mobile-tab",fill:"",pills:""},model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[s("b-tab",{attrs:{title:e.$t("businessowner.Home")}},[s("HomePage",{on:{pageChange:e.pageChange}})],1),s("b-tab",{attrs:{title:e.$t("businessowner.About")}},[s("About")],1),s("b-tab",{attrs:{title:e.$t("businessowner.Media")}},[s("Media",{staticClass:"p-3",attrs:{type:"business"}})],1),s("b-tab",{attrs:{title:e.$t("businessowner.Market")}},[s("MarketPlace",{attrs:{isPremium:e.isPremium}})],1),s("b-tab",{attrs:{title:e.$t("profileowner.Networks")}},[s("Networks",{attrs:{type:"business"}})],1),s("b-tab",{attrs:{title:e.$t("businessowner.Community")}},[s("Followers")],1)],1)],1)],1)],1)])],1)},r=[],l=s("fc58"),d=s("712e"),c=s("f797"),h=s("37a7"),u=s("a282"),b=s("fb1b"),m=s("e017"),p=s("ce96"),g={name:"Home",components:{HeadPageOwner:m["a"],HomePage:l["a"],About:d["a"],Media:c["a"],MarketPlace:h["a"],Followers:u["a"],Networks:b["a"]},data(){return{currentTab:0,tabIndex:null,isCover:!1,tabs:["#post","#about","#media","#market","#network","#community"],isPremium:Object(p["f"])()}},created(){let e=localStorage.getItem("businessTab");e&&(this.currentTab=e)},methods:{gotoCoverImages(){console.log("parent cover method"),this.isCover=!0,this.key=this.key+1,this.currentTab=2},pageChange(){console.log("business pageChange"),this.$emit("pageChange")}},watch:{currentTab:(e,t)=>{localStorage.setItem("ba-business-active-tab",e),localStorage.setItem("businessTab",e),2!=e&&((void 0).showCoverAlbum=!1,(void 0).key=(void 0).key-1)},$route(e,t){this.currentTab=this.tabs.findIndex(t=>t===e.hash)}}},f=g,w=(s("266b"),s("5d57"),s("0c7c")),v=Object(w["a"])(f,n,r,!1,null,"16f69676",null),_=v.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",["0"==e.selectedIdd?s("div",{staticClass:"mt-3 d-block d-md-none"},[s("div",{staticClass:"d-block d-md-none",staticStyle:{"margin-top":"30px"}},[s("ly-tab",{staticClass:"center-ly",attrs:{items:e.items,options:e.options,vertical:""},model:{value:e.seetings_id,callback:function(t){e.seetings_id=t},expression:"seetings_id"}})],1),"0"==e.seetings_id?s("div",{staticClass:"mt-3 d-block d-md-none"},[s("General")],1):e._e(),"3"==e.seetings_id?s("div",{staticClass:"mt-3 d-block d-md-none"},[s("Payment")],1):e._e(),"2"==e.seetings_id?s("div",{staticClass:"mt-3 d-block d-md-none"},[s("Roles")],1):e._e(),"1"==e.seetings_id?s("div",{staticClass:"mt-3 d-block d-md-none"},[s("Info")],1):e._e(),"4"==e.seetings_id?s("div",{staticClass:"mt-3 d-block d-md-none"},[s("Blocking")],1):e._e()]):e._e(),"6"==e.selectedIdd?s("div",{staticClass:"mt-3 d-block d-md-none"},[s("Notification")],1):e._e(),"7"==e.selectedIdd?s("div",{staticClass:"mt-3 d-block d-md-none"},[s("Insight")],1):e._e(),"8"==e.selectedIdd?s("div",{staticClass:"mt-3 d-block d-md-none"},[s("Pending")],1):e._e(),e.window.width>=768?s("b-row",{staticClass:"center-content d-none d-md-block"},[s("b-col",{attrs:{cols:"10"}},[s("div",{staticClass:"bv-example-row"},[s("div",[s("b-tabs",{staticClass:"itzlala",attrs:{lazy:"",pills:"",vertical:"","nav-wrapper-class":"w-15"},model:{value:e.tabIndex,callback:function(t){e.tabIndex=t},expression:"tabIndex"}},[s("b-tab",{attrs:{title:e.$t("businessowner.General")}},[s("b-card-text",[s("General")],1)],1),s("b-tab",{attrs:{title:e.$t("businessowner.Notification")}},[s("b-card-text",[s("Notification")],1)],1),s("b-tab",{attrs:{title:e.$t("businessowner.Business_Info")}},[s("b-card-text",[s("Info")],1)],1),s("b-tab",{attrs:{title:e.$t("businessowner.Business_Roles")}},[s("b-card-text",[s("Roles")],1)],1),s("b-tab",{attrs:{title:e.$t("businessowner.Insight"),"*ngIf":"isPremium"}},[s("b-card-text",[s("Insight")],1)],1),s("b-tab",{attrs:{title:e.$t("businessowner.Pending_Post"),"*ngIf":"isPremium"}},[s("b-card-text",[s("Pending")],1)],1),s("b-tab",{attrs:{title:e.$t("businessowner.Payment")}},[s("b-card-text",[s("Payment")],1)],1),s("b-tab",{attrs:{title:e.$t("businessowner.Blocking")}},[s("b-card-text",[s("Blocking")],1)],1)],1)],1)]),s("br"),s("br")]),s("b-col",{attrs:{cols:"2"}})],1):e._e()],1)},I=[],y=s("ba33"),$=s("78f7"),k=s("c0e4"),P=s("f07a"),x=s("2ae0"),S=s("7f3d"),T=s("0744"),B=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-card",{staticClass:"px-md-3"},[e._l(e.owner_post,(function(t){return s("div",{key:t.post_id},[s("div",{staticClass:"mt-2"},[s("div",{staticClass:"d-inline-flex"},[s("span",{staticClass:"m-0 p-0",attrs:{md:"1"}},[s("b-avatar",{staticClass:"d-inline-block avat",attrs:{variant:"primary",src:t.profile_picture}})],1),s("div",{staticClass:"pl-2 pl-md-3 pt-md-2"},[s("h5",{staticClass:"m-0 usernamee"},[e._v(" "+e._s(t.name)+" ")]),s("p",{staticClass:"durationn"},[e._v(e._s(e.moment(t.created_at).fromNow()))])]),s("div",{staticClass:"toright pt-2"},[s("b-dropdown",{attrs:{variant:"link",size:"sm",dropleft:"","no-caret":""},scopedSlots:e._u([{key:"button-content",fn:function(){return[s("b-icon",{attrs:{icon:"three-dots",variant:"primary","aria-hidden":"true"}})]},proxy:!0}],null,!0)},[s("b-dropdown-item-button",{attrs:{variant:"info"},on:{click:function(s){return e.approvedPost(t)}}},[s("b-icon",{attrs:{icon:"pencil","aria-hidden":"true"}}),e._v(" "+e._s(e.$t("businessowner.Approved"))+" ")],1),s("b-dropdown-item-button",{attrs:{variant:"danger"},on:{click:function(s){return e.deletePost(t)}}},[s("b-icon",{attrs:{icon:"trash-fill","aria-hidden":"true"}}),e._v(" "+e._s(e.$t("businessowner.Delete"))+" ")],1)],1)],1)]),s("div",{staticClass:"m-0 p-0"},[s("p",{staticClass:"post-text"},[t.content?s("read-more",{attrs:{"more-str":e.$t("businessowner.read_more"),text:t.content,link:"#","less-str":e.$t("businessowner.read_less"),"max-chars":200}}):e._e()],1)]),t.media.length>0?s("div",{},[e._l(e.mapvideo(t.media),(function(t){return s("span",{key:t},[s("youtube",{staticClass:"w-100 videoh",attrs:{"video-id":e.getId(t),"player-vars":e.playerVars},on:{playing:e.playing}})],1)})),s("light",{attrs:{css:" ",cells:t.media.length,items:e.mapmediae(t.media)}})],2):e._e()]),s("hr")])})),s("infinite-loading",{ref:"infiniteLoading",attrs:{identifier:e.infiniteId},on:{infinite:e.infiniteHandler}},[s("div",{staticClass:"text-red",attrs:{slot:"no-more"},slot:"no-more"},[e._v("No Pending Posts To Show")]),s("div",{staticClass:"text-red",attrs:{slot:"no-results"},slot:"no-results"},[e._v("No Pending Posts To Show")])])],2)],1)},M=[],O=s("d648"),j=s("c1df"),N=s.n(j),z=s("bc3a"),A=s.n(z),E={name:"postNetwork",components:{light:O["a"]},data(){return{playerVars:{autoplay:0},moment:N.a,page:1,infiniteId:+new Date,post:this.$store.state.businessOwner.ownerPost,url:null,delete:[],edit_description:null,edit_image:null,edit_id:null,uploadPercentage:0,fullPage:!1,images:["https://i.wifegeek.com/200426/f9459c52.jpg"],imagees:["https://i.wifegeek.com/200426/f9459c52.jpg","https://i.wifegeek.com/200426/5ce1e1c7.jpg"],ima:["https://pbs.twimg.com/media/DoNa_wKUUAASSCF.jpg","https://pbs.twimg.com/media/DKO62sVXUAA0_AL.jpg","https://i.wifegeek.com/200426/5ce1e1c7.jpg"],animate:!0,isUploading:!1,createPost:{postBusinessUpdate:"",movies:[],hyperlinks:[]},isSubmitted:!1,fileImageArr:[]}},methods:{mapmediae(e){let t=[];return e.forEach(e=>{let s=this.checkMediaType(e.media_type);"video"!=s&&t.push(e.media_url)}),t},mapvideo(e){let t=[];return e.forEach(e=>{let s=this.checkMediaType(e.media_type);"video"==s&&t.push(e.media_url)}),t},checkMediaType(e){return e.split("/")[0]},getId(e){return this.$youtube.getIdFromUrl(e)},nFormatter(e){return e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"G":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e},reloads(){console.log("reoading"),this.$store.commit("profile/ownerPost",[])},infiniteHandler(e){let t="business/show/unapprove-post/"+this.url+"/"+this.page;1==this.page&&this.owner_post.splice(0),this.$store.dispatch("businessOwner/loadMore",t).then(({data:t})=>{console.log(t),t.data.length?(this.page+=1,this.owner_post.push(...t.data),e.loaded()):e.complete()}).catch(e=>{console.log({err:e})})},approvedPost(e){let t=this.$loading.show({container:this.fullPage?null:this.$refs.creatform,canCancel:!0,onCancel:this.onCancel,color:"#e75c18"});A.a.post("business/post-approve/"+e.post_id,{name:this.name}).then(e=>{console.log(e.data),this.flashMessage.show({status:"success",blockClass:"custom-block-class",message:this.$t("businessowner.Post_Approved")}),this.reloads(),this.page=1,this.infiniteId+=1,t.hide()}).catch(e=>{this.sending=!1,422==e.response.status?(console.log({err:e}),this.flashMessage.show({status:"error",blockClass:"custom-block-class",message:e.response.data.message}),t.hide()):(this.flashMessage.show({status:"error",blockClass:"custom-block-class",message:this.$t("businessowner.Unable_to_Approved_Post")}),console.log({err:e}),t.hide())})},deletePost(e){let t=this.$loading.show({container:this.fullPage?null:this.$refs.creatform,canCancel:!0,onCancel:this.onCancel,color:"#e75c18"});A.a.delete("business/delete/post/"+e.post_id,{name:this.name}).then(e=>{console.log(e.data),this.flashMessage.show({status:"success",blockClass:"custom-block-class",message:this.$t("businessowner.Post_Deleted")}),this.reloads(),this.page=1,this.infiniteId+=1,t.hide()}).catch(e=>{this.sending=!1,422==e.response.status?(console.log({err:e}),this.flashMessage.show({status:"error",blockClass:"custom-block-class",message:e.response.data.message}),t.hide()):(this.flashMessage.show({status:"error",blockClass:"custom-block-class",message:this.$t("businessowner.Unable_to_Delete_your_Post")}),console.log({err:e}),t.hide())})},ownerPost(){this.$store.dispatch("profile/ownerPost").then(()=>{console.log("hey yeah")}).catch(e=>{console.log({err:e})})},showModal(){this.$refs["modal-3"].show()},hideModal(){this.$refs["modal-3"].hide()},resetPostData(){console.log("Resetting the post data"),this.isSubmitted||(this.createPost.hyperlinks=[],this.createPost.movies=[],this.createPost.postBusinessUpdate="")}},computed:{imageProfile(){return"yoo"},info:function(){return this.$store.getters["profile/getUserPostIntro"]},owner_post(){return this.$store.state.profile.ownerPost},profileNamePost(){return"yoo"}},mounted(){this.url=this.$route.params.id}},F=E,H=(s("269c"),s("0738"),s("0eec"),Object(w["a"])(F,B,M,!1,null,"5e8617a6",null)),R=H.exports,U=s("fb39"),D={name:"settings",props:["currenttab"],watch:{currenttab:{immediate:!0,handler(e,t){3==e&&(this.selectedIdd="8",this.tabIndex="5"),2==e&&(this.selectedIdd="6",this.tabIndex="1"),4==e&&(this.selectedIdd="7",this.tabIndex="4"),5==e&&(this.selectedIdd="0",this.tabIndex="0"),6==e&&(console.log(e),this.selectedIdd="6",this.tabIndex="7")}}},components:{General:y["a"],Roles:$["a"],Notification:S["a"],Pending:R,LyTab:T["a"],Insight:U["a"],Info:k["a"],Payment:P["a"],Blocking:x["a"]},data(){return{size:0,tabIndex:1,selectedIdd:0,seetings_id:0,bottomSelectedId:0,window:{width:0,height:0},items:[{label:"General"},{label:"Business Info"},{label:"Business Roles"},{label:"payment "},{label:"Blocking"}],options:{activeColor:"#1d98bd"},isPremium:Object(p["f"])()}},mounted(){var e=this;window.onresize=function(){e.size=window.innerWidth}},created(){window.addEventListener("resize",this.handleResize),this.handleResize()},destroyed(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize(){this.window.width=window.innerWidth,this.window.height=window.innerHeight}}},G=D,L=(s("e485"),s("c895"),Object(w["a"])(G,C,I,!1,null,"724c3474",null)),q=L.exports,K=s("e157"),V=s("1b62"),J=s("277b"),W={name:"Home",mixins:[V["f"]],components:{navbar:o["a"],Skeleton:J["a"],Business:_,LyTab:T["a"],Settings:q,Inbox:K["a"]},data(){return{selectedId:0,bottomSelectedId:0,foll_id:null,isloaded:!1,url_data:null,items:[{label:this.$t("search.Home"),icon:""},{label:this.$t("search.Inbox"),icon:""},{label:this.$t("search.Notification"),icon:""},{label:this.$t("search.Settings"),icon:""}],options:{activeColor:"#1d98bd"},isPremium:Object(p["f"])()}},methods:{pageChange(){console.log("pageChange"),this.selectedId=6},async businessInfo(){let e="business/info/"+this.$route.params.id;await A.a.get(e).then(({data:e})=>{this.$store.commit("businessOwner/setBusinessInfo",e.data),this.auth({...e.data,profile_picture:e.data.logo_path,user_type:"business"})})},CommunityBusiness(){this.$store.dispatch("businessOwner/CommunityBusiness",this.url_data).then(()=>{console.log("hey yeah")}).catch(e=>{console.log({err:e})})},CommunityPeople(){this.$store.dispatch("businessOwner/CommunityPeople",this.url_data).then(()=>{console.log("hey yeah")}).catch(e=>{console.log({err:e})})},businessCommunityTotal(){this.$store.dispatch("businessOwner/businessCommunityTotal",this.url_data).then(()=>{console.log("hey yeah")}).catch(e=>{console.log({err:e})})},ownerPost(){this.$store.dispatch("businessOwner/ownerPost",this.url_data).then(()=>{console.log("hey yeah")}).catch(e=>{console.log({err:e})})}},watch:{"$route.query.tabId":function(){this.selectedId=this.$route.query.tabId}},beforeCreate:async function(){await this.$repository.share.switch(this.$route.params.id,"business")},created(){this.isPremium&&(this.items.push({label:this.$t("search.Insight"),icon:""}),this.items.push({label:this.$t("search.Pending_Post"),icon:""}));let e=this.$loading.show({container:this.$refs.wrapper,canCancel:!0,onCancel:this.onCancel,color:"#e75c18"});this.selectedId=this.$route.query.tabId?this.$route.query.tabId:"0",this.foll_id=this.$route.params.id,this.$store.dispatch("businessOwner/roleCheck",this.foll_id).then(t=>{let s=t.data.data.role;switch(s){case"editor":this.$router.push({name:"BusinessEditor",params:{id:this.foll_id}});break;case"visitor":this.$router.push({name:"BusinessFollower",params:{id:this.foll_id}});break}this.businessInfo(),this.isloaded=!0,e.hide()}).catch(t=>{console.log({error:t}),console.log(t.response.status),e.hide(),404==t.response.status&&this.$router.push({name:"notFound"})})},mounted(){1==this.$store.state.profileSettingsEdit.etat&&(this.selectedId=this.$store.state.profileSettingsEdit.selectedId),this.url_data=this.$route.params.id,this.CommunityBusiness(),this.CommunityPeople(),this.businessCommunityTotal(),this.ownerPost()}},X=W,Q=(s("0230"),s("c721"),Object(w["a"])(X,i,a,!1,null,"0221990f",null));t["default"]=Q.exports},b58e:function(e,t,s){},c721:function(e,t,s){"use strict";s("08d7")},c895:function(e,t,s){"use strict";s("1f88")},e485:function(e,t,s){"use strict";s("33d8")},f5d7:function(e,t,s){}}]);
//# sourceMappingURL=chunk-e4a3ca38.d18baaf0.js.map